---
title: Let, Var, Const 有什么区别
date: 2021-12-15
tags:
 - javascript
 - 面试题解毒
categories:
 -  技术文章
---

### 序言

这是一道非常简单的面试题，但是想要回答好它却不容易。

从实用性的角度出发，`var, let, const` 都是js中用来声明变量的关键字。其中 `var`和`let`用来定义变量, `const`用来声明常量。其中`let`和`const`是在ES6中新增的。

问题到这里还远远没有结束，真正的考验才刚刚开始

### 变量提升

这是大家看到 var 和 let 最容易想到的点。那么什么是变量提升呢？

变量提升（Hoisting）被认为是Javascript中执行上下文 （特别是创建和执行阶段）工作方式的一种认识。

这么说有点绕，我们先来看一段代码

```js
console.log(a) // undefined

var a = 1;

console.log(a) // 1
```

为什么在我们定义a之前，a就被使用了，代码却没有报错，而且结果输出了undefined？你可以说var的默认值是undefined，但这不够严谨，我们需要从js的编译说起。

> 在传统的编译语言中，程序中的一段源代码在执行之前会经历三个步骤，统称为“编译”。
> 引用
> - 分词/词法分析（Tokenizing/Lexing）
> - 解析/语法分析（Parsing）
> - 代码生成
> 引用
> 比起那些编译过程只有三个步骤的语言的编译器，JavaScript引擎要复杂得多。例如，在语法分析和代码生成阶段有特定的步骤来对运行性能进行优化，包括对冗余元素进行优化等。
> 引用
> JavaScript引擎，编译器概述
> 引用
> - 从头到尾负责整个JavaScript程序的编译及执行过程。
> - 引擎的好朋友之一，负责语法分析及代码生成等脏活累活。
> 
> 摘录来自: “你不知道的JavaScript”




标识符是在用户代码前就已经由静态分析得到了。

因此let和var在本质上没有任何不同，他们都是在读取一个“已经存在”的标识符名。

JavaScript 虽然是动态语言，但确实是拥有静态语义的。而在 JavaScript 的早期，这个静态语义其实并没有处理得太好，一个典型的问题就是变量提升。也就是可以在变量声明之前访问该变量。




浏览器的全局对象是 window，Node 的全局对象是 global。var 声明的变量为全局变量，并且会将该变量添加为全局对象的属性，但是 let 和 const 不会。

那么在声明变量的时候，为什么有let和var两种方式，他们的区别又是什么？



声明是在语法分析阶段就处理的。

这表明 js虽然被称为是动态语言，但是却拥有一定的静态语义。

所有的声明，都意味着JavaScript将可以通过静态语法分析发现那些声明的标识符

标识符对应的变量/常量 一定 会在用户代码执行前就已经被创建在作用域中

所以产生了变量提升这个东西。

那么Let和Const又是如何做到没有变量提升呢？



